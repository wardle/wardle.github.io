<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Secure messaging... with patients in control of their data</title>
  <meta name="description" content="Don’t we all want clinical information systems that support both clinicians and patients with clinical care?">

  <link rel="stylesheet" href="/assets/main.css">
  <link rel="canonical" href="https://www.wardle.org/information-governance/2017/04/23/secure-messaging.html">
  <link rel="alternate" type="application/rss+xml" title="Health informatics and information technology" href="/feed.xml">
  
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-97389603-1', 'auto');
  ga('send', 'pageview');

</script>
</head>


  <body>

    <header class="site-header" role="banner">

  <div class="wrapper">
    
    
    <a class="site-title" href="/">Health informatics and information technology</a>
  
  
    
      <nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
              <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
              <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger">
           <a class="page-link" href="/">All posts</a>
          
            
            
            <a class="page-link" href="/projects/">Projects</a>
            
          
            
            
            <a class="page-link" href="/about/">About</a>
            
          
            
            
          
            
            
          
            
            
          
        </div>
      </nav>
    
  </div>
</header>


    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Secure messaging... with patients in control of their data</h1>
    <p class="post-meta">
      <time datetime="2017-04-23T09:20:28+01:00" itemprop="datePublished">
        
        23 April 2017
      </time>
      </p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>Don’t we all want clinical information systems that support both clinicians and patients with clinical care?</p>

<p>However, storing and using information relating to patients, whether for direct clinical care, audit and service evaluations or the secondary use of data is potentially fraught with difficulty. There are many examples such as the furore surrounding the <a href="https://www.england.nhs.uk/ourwork/tsd/care-data/">care.data</a> NHS England project or the <a href="https://www.digitalhealth.net/2017/03/ttp-gps-should-continue-patient-data-sharing/">TPP SystmOne debacle</a>.</p>

<p>As I have <a href="/clinical-informatics/2017/03/09/google-information.html">mentioned before</a>, “a single misstep in either the use of data, the perceived use of data or lack of clarity surrounding either has the potential to close down any programme, however innovative.”</p>

<h4 id="how-then-can-we-build-systems-that-are-open-and-transparent-and-yet-secure-by-design">How then can we build systems that are open and transparent and yet secure-by-design?</h4>

<p>For many, these goals are mutually exclusive. There are many proprietary, closed systems adopting <em>security-by-obscurity</em> with data locked away  inaccessible to third parties and low levels of interoperability. Opening up access to such systems is, by definition, something that reduces security and potentially allows important personal patient-identifiable information to be accessed inappropriately.</p>

<h4 id="how-do-you-give-secure-and-safe-control-of-data-to-patients">How do you give secure and safe control of data to patients?</h4>

<p>I would argue that more harm comes to patients for lack of sharing of information than excessive sharing. So many of my patients are surprised that I have not and cannot see the results of investigations and clinical opinions from other centres. Others are surprised to know that that most of us have no automatic systems to let us know about results, relying instead on crude manual systems and the receipt of a report in order to act. Such processes are prone to error; what happens if I do not receive a written report for a scan?</p>

<p>As I have written before, we need systems that allow medicine to <a href="/information-governance/2017/03/19/information-governance.html">run on rails</a>. Therefore, we need to open-up data access but in a verifiably safe, transparent and secure way.</p>

<p>The solution is to put the patient at the centre of what we do and to give them control over the use of their data.</p>

<p>The challenge then becomes how to allow patients to either opt-in or opt-out of the use of their data for different purposes in an open way as well as view for themselves how their data is used. We need systems that record patient consent and log access to data.</p>

<h4 id="the-danger-of-information-leakage">The danger of information leakage</h4>

<p>It is quite straightforward to create electronic systems that record a patient’s preferences and choices in a database.</p>

<p>For example, Mr Smith might record his interest in research generally and specifically sign up for projects relating to diabetes mellitus and HIV. However, such a naive implementation would result in <em>information leakage</em> from this metadata. We might encrypt the database, secure the server and yet still be at risk of disclosing private medical information inadvertently as a result of how different pieces of data are linked.</p>

<h4 id="secure-messaging">Secure messaging</h4>

<p>Similar issues arise in secure patient messaging. My patients and their advocates want to be able to contact their healthcare teams electronically. The success of my existing <a href="/clinical-informatics/2017/03/13/communication-is-key.html">EPR messaging solution</a> is evidence that my other clinical colleagues want ways of communicating among themselves but ensure that such messages become part of the wider health record.</p>

<p>We receive emails frequently from patients and relatives, and yet these communications are not stored as part of the health record, are not easily shared with other members of the healthcare team and are inherently insecure. Providing systems to allow secure messaging between patients and their clinical services should be an easy-win for making our services more responsive to patients.</p>

<p>However, I have previously put off adding patient access and secure messaging to my <a href="https://msdata.org.uk">internet hosted EPR portal</a> as I simply do not want to risk the inadvertent leak of patient information, either through accidental or malicious means. It is not difficult to envisage a system much like we have for online banking in which messages are sent and received through their dedicated website or application but what if it got hacked?</p>

<p>We can solve some of these issues with encryption but messaging and other forms of communication are also subject to <em>information leakage</em> as a result of the metadata relating to those communications. The security services don’t necessarily need to know what messages contain to make important inferences about the relationships between people; they know the sender and the recipient.</p>

<p>For example if a patient emails hiv-helpdesk@nhs.net then information leakage is taking place.</p>

<h4 id="openconsent">openconsent</h4>

<p>I’ve been working on a small proof-of-concept application that demonstrates a way of connecting patients and services without leaking information about those relationships. It is called <a href="https://github.com/wardle/openconsent">openconsent</a> and the source code is available on <a href="https://github.com/wardle/openconsent">github</a>.</p>

<p>The following schematic shows the model:</p>

<p><img src="/images/openconsent/openconsent-plan-updated.png" alt="Openconsent Model Updated" /></p>

<p>This looks complicated, but it really isn’t. The blue boxes show completed functionality within the proof-of-concept project with greyed out boxes showing work that is yet to be done.</p>

<p>More technical information can be found in my previous two blog posts <a href="/information-governance/2017/04/05/pseudonymous-consent-poc.html">here</a> and <a href="/information-governance/2017/04/08/pseudonymous-consent.html">here</a>.</p>

<p>The answer comes down to using <a href="/information-governance/2017/03/19/information-governance.html">pseudonymous identifiers</a> to create one-way links between different types of data. This results in a system the prevents data linkage unless you already know the patient details and have permission to access data. The technical underpinnings are described in my other posts so I won’t duplicate that discussion here.</p>

<p>The same technology can be used to implement secure messaging. Messages sent between different people and organisations suffer from the same <em>information leakage</em> problem as a result of the metadata required to send that message, even if the content of the message is encrypted.</p>

<p>I am now working on adding secure message functionality using public-key cryptography to encrypt the content of messages and one-way pseudonymous identifiers to encrypt the metadata relating to those messages in a similar way to the obfuscation of opt-in and opt-out preferences within the consent model.</p>

<p>For technical readers, a review of <a href="https://github.com/wardle/openconsent/blob/master/src/test/java/com/eldrix/openconsent/model/TestConsent.java">some of the unit tests</a> will demonstrate the use of the framework.</p>

<p>The immediate next steps for development are:</p>

<ul>
  <li>add secure messaging</li>
  <li>complete the REST API (although much is already complete)</li>
  <li>add OAUTH2 server</li>
</ul>

<p><em>Mark</em></p>

  </div>

  
</article>
        
      </div>
    </main>
    
    
    
    <footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Health informatics and information technology</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Health informatics and information technology</li><li><a class="u-email" href="mailto:mark@wardle.org">mark@wardle.org</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/wardle"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">wardle</span></a></li><li><a href="https://www.twitter.com/mwardle"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">mwardle</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>by Dr Mark Wardle, Consultant Neurologist, clinical informatics and software developer. Founder, Eldrix Ltd.
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
