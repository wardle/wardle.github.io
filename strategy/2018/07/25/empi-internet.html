<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Consent-driven distributed master patient index 1/2</title>
  <meta name="description" content="I would like to introduce the concept of a consent-driven distributed master patient index.">

  <link rel="stylesheet" href="/assets/main.css">
  <link rel="canonical" href="https://www.wardle.org/strategy/2018/07/25/empi-internet.html">
  <link rel="alternate" type="application/rss+xml" title="Health informatics and information technology" href="/feed.xml">
  
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-97389603-1', 'auto');
  ga('send', 'pageview');

</script>
</head>


  <body>

    <header class="site-header" role="banner">

  <div class="wrapper">
    
    
    <a class="site-title" href="/">Health informatics and information technology</a>
  
  
    
      <nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
              <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
              <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger">
           <a class="page-link" href="/">All posts</a>
          
            
            
            <a class="page-link" href="/projects/">Projects</a>
            
          
            
            
            <a class="page-link" href="/about/">About</a>
            
          
            
            
          
            
            
          
            
            
          
            
            
          
        </div>
      </nav>
    
  </div>
</header>


    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Consent-driven distributed master patient index 1/2</h1>
    <p class="post-meta">
      <time datetime="2018-07-25T22:21:21+01:00" itemprop="datePublished">
        
        25 July 2018
      </time>
      </p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>I would like to introduce the concept of a consent-driven distributed master patient index.</p>

<p>Many healthcare organisations already use  master patient index  software in order to try to integrate multiple disparate applications but my suggestion is that we update this concept for the Internet-era.</p>

<p>In essence, we need to build a distributed and open system in order to provide resource location and authorisation services, driven by consent:</p>

<ol>
  <li>Existing enterprise master patient indices (EMPIs) provide matching and linkage across systems within an enterprise.</li>
  <li>We are already seeing a move to open platforms underpinned by modern information and technical standards.</li>
  <li>We will need to federate data from multiple providers to create a consolidated health record for an individual citizen.</li>
  <li>Such federation across platforms will require functionality to support resource location, so that the consolidated view includes information from any healthcare providers involved in that citizen’s care</li>
  <li>That consolidated view may not need to contain personally-identifiable information for many purposes but even when de-identified or aggregated, it is possible to re-identity individuals. There is a identifiability continuum with re-identification risk proportionate to the number of different types of health and care data that form the consolidated view.</li>
  <li>Citizens need appropriate tools and support in order to make their data sharing wishes clear and will need to be able to make their preferences clear for a range of different purposes.</li>
</ol>

<p>To solve this, I suggest that we need a <em>consent-driven distributed master patient index</em>.</p>

<h1 id="1-the-enterprise-master-patient-index-empi">1. The enterprise master patient index (EMPI)</h1>

<p>An enterprise master patient index (EMPI) acts as a consistent up-to-date registry of patient information across multiple systems, allowing matching and linkage across those systems.</p>

<p>The design of such a system derives from a historic use of individual healthcare applications that maintain their own patient indexes and need to be integrated with others. Those applications would usually store their own indexes in their own closed, proprietary backend storing the individual patient data against a local case record number.</p>

<p>An EMPI acts to link these disparate applications by matching patient demographics and as a result, can  derive a list of identifiers for any given patient in any of the applications across an enterprise. EMPI products, such as IBM’s Initiate, generally use HL7 v2 messaging in order to provide lookup and matching services.</p>

<h1 id="2-platforms-and-commoditisation">2. Platforms and commoditisation</h1>

<p>I truly believe that we are at the cusp of a revolution in healthcare information technology in which we will adopt Internet-era thinking and technology to support the transformation of healthcare. This transformation will permit a renewed focus on the needs of individual citizens and their caregivers, and how our services are designed to meet those needs.</p>

<p>One of the biggest changes will be the spread of open platforms providing multiple components with standards-based application programming interfaces. Initially, these components will be part of a wider organisation-centric electronic health record system (e.g. <a href="https://code.cerner.com/">https://code.cerner.com/</a>), but, we will quickly see many components becoming commoditised and provided via cloud-based platforms (e.g. <a href="https://cloud.google.com/genomics/">https://cloud.google.com/genomics/</a>).</p>

<p>This scenario playing out is shown in this Wardley map:</p>

<p><img src="/images/mapping/maps-system-future-future-simple-map.png" alt="Maps System Future Future Simple Map" /></p>

<p>We must recognise that several components of this architecture already have well-established solutions and are best bought or rented but that other components are, as yet, unknown and need more work in order to understand the best way to design, build and deploy.</p>

<p>For example, we still have procured and installed locally software like radiology systems (Picture Archiving and Communication System - PACS) but even some of those could be provided as a service instead. For example, in Aneurin Bevan Health Board, they are using <a href="https://www.drdoctor.co.uk/">DrDoctor services</a> for patient communication prior to outpatient clinic visits.</p>

<p>In parallel with this modularisation will be the move towards separating application code and logic from the data and its representations. As a result, we will have a new marketplace of new components will appear providing discrete computing services on-demand, making use of open data standards and readily available open-source tools to implement those standards. For example, could discrete computing functionality be provided to perform monitoring for acute kidney injury (AKI), currently using the state-of-the-art national AKI guidance? Similarly, could such an architecture permit the parallel testing and evaluation of <em>new</em> implementations of AKI detection before more widespread adoption?</p>

<p>As such, it is likely that the data and the application code (logic) will separate and themselves distributed as a <em>modular</em> architecture founded on open standards.</p>

<h1 id="3-federation-and-caching">3. Federation and caching</h1>

<p>Federation is the process in which we can build a unified single view of data from across multiple distributed information systems.</p>

<p>For example, a federation service might take a request for information about a patient, decompose that query across multiple source systems and return a unified composite view. Federation may combine the same or different types of data from multiple systems.</p>

<p>Federation might simply directly pass on a query to multiple source systems at the time of the request; such an approach might be fine if each source system has predictably high levels of performance. Alternatively, it may instead implement a vendor-neutral archive updated from multiple source systems as they themselves are updated, providing a performant cache of information updated from source systems. Indeed, one might implement federation as a combination of both; in essence, federation provides a consolidated view across multiple systems.</p>

<h1 id="4-resource-location">4. Resource location</h1>

<p>Federation is dependent on appropriately locating resources for patients across a range of providers.</p>

<p>Apple have <a href="https://www.apple.com/newsroom/2018/01/apple-announces-effortless-solution-bringing-health-records-to-iPhone/">built a federated health records service</a> to iOS via the Health app and associated <a href="https://developer.apple.com/documentation/healthkit/health_and_fitness_samples/accessing_health_records">application programming interfaces</a>. This now provides a consolidated view of data from multiple healthcare providers in the United States, making use of the increasing available of data via <a href="https://www.hl7.org/fhir/">HL7 FHIR</a>. To do this, health providers must specifically <a href="https://www.apple.com/healthcare/">link with Apple</a>.</p>

<p>Google DeepMind built a <a href="https://deepmind.com/applied/deepmind-health/working-partners/how-were-helping-today/">federated records service</a> to support their Streams app, providing a consolidated view of legacy data held within one organisation but across multiple sites and multiple software products. Those data populated, via <a href="http://www.hl7.org/implement/standards/product_brief.cfm?product_id=185">HL7 V2</a>, are stored in a modern archive for performance reasons and made available via HL7 FHIR.</p>

<p>In both, I understand that resource location is centrally managed, requiring registration or bespoke integration.</p>

<p>Any distributed system needs to be able to offer accurate and performant resource location, much as the domain name service (DNS) for the internet provides distributed conversion of user friendly domain names into numeric addresses.</p>

<h1 id="5-privacy-and-identifiable-data">5. Privacy and identifiable data</h1>

<p>In many situations, such as providing direct-care such as an outpatient clinic, professionals benefit from being able to access identifiable up-to-date information. In other situations, such as when we are planning services to meet the needs of a population, it is sufficient to simply process de-identified information. Using the least identifiable information for any given given purpose is a core principle of sound data governance.</p>

<p>However, there is a <a href="https://understandingpatientdata.org.uk/sites/default/files/2017-07/Identifiability%20briefing%205%20April.pdf">spectrum of identifiability</a> with fully identifiable data at one extreme and aggregated statistics about a populations of patients at the other. With aggregate statistics, re-identification is much more difficult, but is possible when numbers of individuals with a set of characteristics are small. With de-identified patient-level data, re-identification is possible and becomes increasingly possible proportional to the quantity of linked data.</p>

<p>For example, you could not re-identify an individual if all you knew was that they were a <em>neurologist</em>. If you knew they lived in <em>Wales</em>, then you can narrow down the possibilities. A neurologist, from Wales interested in <em>information technology</em>. You’ve re-identified me. Probably.</p>

<p>One way of trying to de-identify information is to simply replace all personally-identifiable information with a pseudonym, a random identifier. However, if all data on an individual is given the same identifier, the re-identification risk is higher than if only a single type of data is available. As such, we can augment de-identification by splitting data and giving each split a different identifier and permitting the creation of a dynamic consolidated view of data across multiple systems using multiple identifiers by virtue of a variable degree of linkage.</p>

<p>For example, Google Maps will track route journeys for traffic analysis, but reduces the privacy impact by splitting up the journey into smaller sections, each with a different identifier. Your progress during those sections is recorded to help others, but no-one is able to recombine those data to find out from where you travelled. Anonymisation occurs because there is no linkage from your identifiable information (your account details) and the traffic identifiers. If Google kept a record of your account and the identifiers used to track your journeys, then conceivably your journey could be recreated and your data has only be de-identified.</p>

<p>In addition, it is possible to further limit the risk of re-identification by deliberately adding <em>noise</em> into datasets so that aggregate statistical analyses give the same results as the original source data; such an approach is called <em>differential privacy</em>.</p>

<p>As such, we can work to protect privacy by both controlling the <em>linkage</em> of data from different sources as well as deliberately adding <em>noise</em> into data when aggregated and shared.</p>

<h1 id="6-consent-and-health-data">6. Consent and health data</h1>

<p>Health data have three broad purposes:</p>

<ul>
  <li>for direct care of an individual patient</li>
  <li>for supporting and running services by aggregating individual-level data at the level of an organisation, service or cohort in order to monitor and improve services for those patients</li>
  <li>for supporting research</li>
</ul>

<p>There are more detailed examples at <a href="https://understandingpatientdata.org.uk/why">https://understandingpatientdata.org.uk/why</a></p>

<p>Not all health data are the same. For example, information relating to sexual health, termination of pregnancy, genetics, mental health, substance abuse, employment issues and stigmatising social data may, at the discretion of an individual, be considered quite differently from other health data.</p>

<p>Pharmaceutical companies and clinicians are interested in assessing the real-world outcomes of their treatments and projects like the <a href="https://www.herc.ox.ac.uk/downloads/health_datasets/browse-data-sets/general-practice-research-database-gprd">Clinical Practice Research Datalink (CPRD)</a> demonstrate the usefulness of this post-marketing surveillance.</p>

<p>Consent may be opt-in or opt-out and given implicitly or explicitly. When you sign up to a clinical research project, you must opt-in. When you don’t want your health data shared for secondary uses in NHS England, you can opt-out. When you attend a hospital and extend your arm in order to let someone take your blood, you have given <em>implicit</em> consent. When you sign a consent form for your appendicectomy, you give <em>explicit</em> consent. When you attend hospital unconscious and we work to treat you, we are working in your <em>best interests</em>. When your advance decision to refuse treatment (ADRT) states that you do not want cardiopulmonary resuscitation, to perform that act would be an act of assault.</p>

<p>The NHS England care.data project was <a href="https://www.bmj.com/content/354/bmj.i3907">halted in the face of widespread public criticism and loss of trust</a>, despite the <a href="https://www.bmj.com/content/354/bmj.i3852">potential benefits</a> for population health and clinical research.</p>

<p>One of the outcomes of the debacle was a renewed focus on <em>building trust</em> and obtaining <em>consent</em>. As a result, we must work to ensure that we organise health information to make it accessible subject to <em>consent</em> and <em>control</em> by the individual or their representative.</p>

<h1 id="so-what-follows">So what follows?</h1>

<p>In essence, I have argued that we need a distributed equivalent of a master patient index designed for the Internet-era and driven by consent.</p>

<p>This index needs, itself, to be distributed and federated, and yet designed to protect privacy. My next blog post in this series touches on some of the potential technical standards and services required to support such a system.</p>

<p><em>Mark</em></p>

<p>PS My previous posts on <a href="/information-governance/2017/04/08/pseudonymous-consent.html">pseudonymous consent</a> and associated code were an experiment solving some of the issues that I’ve finally got around to documenting here.</p>

  </div>

  
</article>
        
      </div>
    </main>
    
    
    
    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">Health informatics and information technology</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>
            
              Health informatics and information technology
            
            </li>
            
            <li><a href="mailto:mark@wardle.org">mark@wardle.org</a></li>
            
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/wardle"><span class="icon icon--github"><svg viewBox="0 0 16 16" width="16px" height="16px"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">wardle</span></a>

          </li>
          

          
          <li>
            <a href="https://twitter.com/mwardle"><span class="icon icon--twitter"><svg viewBox="0 0 16 16" width="16px" height="16px"><path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/></svg>
</span><span class="username">mwardle</span></a>

          </li>
          
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>by Dr Mark Wardle, Consultant Neurologist, clinical informatics and software developer. Founder, Eldrix Ltd.
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
