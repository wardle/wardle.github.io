<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Applying artificial intelligence in healthcare</title>
  <meta name="description" content="In this post, I discuss machine learning and computer-aided decision support in healthcare.">

  <link rel="stylesheet" href="/assets/main.css">
  <link rel="canonical" href="https://www.wardle.org/machine-learning/2017/12/17/diagnostic-inference.html">
  <link rel="alternate" type="application/rss+xml" title="Health informatics and information technology" href="/feed.xml">
  
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-97389603-1', 'auto');
  ga('send', 'pageview');

</script>
</head>


  <body>

    <header class="site-header" role="banner">

  <div class="wrapper">
    
    
    <a class="site-title" href="/">Health informatics and information technology</a>
  
  
    
      <nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
              <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
              <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger">
           <a class="page-link" href="/">All posts</a>
          
            
            
            <a class="page-link" href="/projects/">Projects</a>
            
          
            
            
            <a class="page-link" href="/about/">About</a>
            
          
            
            
          
            
            
          
            
            
          
        </div>
      </nav>
    
  </div>
</header>


    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Applying artificial intelligence in healthcare</h1>
    <p class="post-meta">
      <time datetime="2017-12-17T14:32:32+00:00" itemprop="datePublished">
        
        17 December 2017
      </time>
      </p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>In this post, I discuss machine learning and computer-aided decision support in healthcare.</p>

<p>Firstly, I discuss the importance of understanding the process of clinical decision making and how we use information to support that process.</p>

<p>Secondly, I discuss how software can valuably support out clinical decision making.</p>

<p>Finally, I would like to convince you of the need for an computable data structure which I have termed OCMR, the <em>“open computable medical record”</em>.</p>

<p>We, as a community, must collaborate to define the structure of the OCMR. This structure must allow us to create large amounts of publicly-available training data to provide to machine learning algorithms. Likewise, when it comes to evaluation and use of that trained algorithm, we need a computable data structure that can be populated from the real records of an individual patient.</p>

<h1 id="applying-artificial-intelligence-in-healthcare">Applying artificial intelligence in healthcare</h1>

<p>Artificial intelligence is a term used to describe intelligent machines that makes inferences or decisions based on data with little or no human interaction. Such decisions might be simple and rule-based (“Does this patient have anaemia?”) or more complex inferences based on multiple variables.</p>

<p>Statistical modelling, in which we study an outcome and the covariates that contribute to that outcome is, in itself, not that different to machine learning, at least conceptually; they are akin to two sides of the same coin. The advent of powerful computing power in every desktop and even in your pocket has meant that computationally-intensive methods, such as machine learning, are a useful tool in any statistician’s armamentarium.</p>

<p>Historically, we could create a tool, such as a <a href="https://www.chadsvasc.org/">“CHADSVASC”</a>, that could calculate the risk of a patient having a stroke if they had atrial fibrillation. That tool was generated from a conventional statistical approach looking at thousands of patients, their outcomes and the possible determinants of that outcome; the statistical model would identify the important factors that influence the outcome and provide a coefficient for each factor giving an indication as to its influence. The tool, created based on an understanding of those factors and their influence, can then be evaluated in clinical practice to ensure it is safe and accurate; such analyses might include estimates of sensitivity and specificity in specific populations of patients. For example, a tool generated from data from a non-representative sample of patients is unlikely to be generalisable to other populations. If such a tool is proven valid for a population of patients, then it could be used in clinical practice to support clinical decision making.</p>

<p>Machine learning approaches the problem from a different perspective usign a computationally-intensive approach, often from data with many more variables than one could plan to use in a more conventional statistical approach such as logistic regression, to predict results from data. However, the end result is that machine learning can be used to understand data in a broadly similar way to more conventional statistical approaches.</p>

<p>Deep learning is a type of machine learning that has seen rapid advances in the last decade; it is a technology that has been used in computer vision applications to recognise handwriting or categorise images based on the objects or things they contain. However, there are increasing applications outside of this field such as voice recognition, natural language processing and playing common computer and board games to a standard greater than that possible by humans, sooner than expected simply by virtue of advances in raw computing power.</p>

<p>Deep learning uses multiple layers of neural networks to extract, transform and process information in multiple steps, with each layer using the output from the previous layer as input and training performed by backpropagation using a type of gradient descent. This backpropagation is akin to maximum likelihood estimation (MLE) in statistical regression in which estimates of parameters are generated; backpropagation works to train the network to give the outputs as labelled in the training data.</p>

<h2 id="chains-of-inference">Chains of inference</h2>

<p>We already use multiple structured models in clinical practice - such as CHADSVASC or <a href="https://www.england.nhs.uk/wp-content/uploads/2014/06/psa-aki-alg.pdf">identifying acute kidney injury</a> - as part of the wider care of patients to support a range of purposes such as clinical decision support.</p>

<p>Such models can be considered, generically, as a black-box that when provided with inputs is expected to give an answer:</p>

<p><img src="/images/ai/generic-model.png" alt="Generic Model" /></p>

<p>Indeed, such a model does not only apply to proven tools or computer-based decision making but is also applicable to human decision-makers. In the <a href="/medical-records/2017/10/08/the-broken-medical-record.html">“Fractal medical record”</a>, I discussed the concept of nested hierarchical data being used to make inferences which themselves are used as inputs to support further inferences:</p>

<p><img src="/images/fractal/angina-2.png" alt="Angina 2" /></p>

<p>Here the patient reports a crushing tight chest pain when they exert themselves walking up a hill, investigations show a normal resting electrocardiogram (ECG) and a history of smoking, together with some other findings. A diagnosis of angina is made; a useful diagnostic label to aid communication and, importantly, to aid clinical decision making and pattern recognition. When the patient presents in the future with new chest pain and ST segment elevation in the anterior leads of an ECG, old and new factors are combined implicitly to derive two conceptual diagnoses: <a href="/medical-records/2017/10/08/the-broken-medical-record.html">one is the latent trait of arteriosclerotic disease, perhaps never recorded but concluded implicitly, and one is a new acute anterior myocardial infarction</a>.</p>

<p>Similarly, a consultant radiologist will be given a brief summary of a patient’s clinical problems (“shortness of breath”, “wheeze”), the contextual clues (inpatient vs. outpatient, name of the referrer) and the imaging itself to provide a diagnostic opinion. A respiratory physician may take those same clinical problems, the radiology report and additional investigation results to provide a further diagnostic opinion. The diagnostic inferences become nested:</p>

<p><img src="/images/fractal/angina-3.png" alt="Angina 3" /></p>

<p>The end result? A chain of multiple abstract black-boxes representing models accepting input data and providing an output.</p>

<p>So what do all of these models need in order to provider inferences?</p>

<p>Models, whether human or algorithms built using software, need <strong>information</strong>.</p>

<p>To make best use of that information we need, to paraphrase a well known commercial motto:</p>

<blockquote>
  <p>“to organise clinical information and make it universally accessible and useful”.</p>
</blockquote>

<h1 id="the-record-becomes-part-of-your-practice">“The record becomes part of your practice”</h1>

<p>In relation to the medical record:</p>

<blockquote>
  <p>“You’re a victim of it or a triumph because of it. The human mind simply cannot carry all the information without error so the record becomes part of your practice.”</p>

  <p>Dr Larry Weed, Internal Medicine Grand Rounds, 1971</p>
</blockquote>

<p>So how we structure and use our medical records, whether on paper or digitally, is critical in supporting good clinical care. So how do we use our records to come to a diagnosis?</p>

<h4 id="step-one-look-at-raw-information">Step one: look at raw information</h4>

<p>Here we see a list of investigation results from an individual patient in a tabular view sorted by descending date:</p>

<p><img src="/images/ai/flat-results.png" alt="Flat Results" /></p>

<p>A view like this is seen in many different electronic health record systems and it is usable. As clinicians, we can click on one of the rows and see the result. Most systems allow the graphical display of various results over time permitting us to assess trends.</p>

<p>Likewise, we will have gathered additional raw information directly from the patient or carers about current and past symptoms, established previous medical problems such as chronic obstructive airways disease, an allergy to penicillin or previous cholecystectomy. In addition, we can corroborate and supplement that information from a review of the previous medical records. Such records may be on paper, in which case it is unlikely that they will be available in the emergency department, or electronic, either as a summary problem list or from piecing together information from multiple pieces of correspondence from multiple specialties.</p>

<p>Most health professionals will have sympathy with the analogy that we work as hunter-gatherers; our job is to find the right information at the right time and most of us will readily admit that this is usually time-consuming and error-prone.</p>

<p>For example, imagine a patient presents with drooping of the eyelids to their general practitioner, and that doctor checks for acetyl-choline receptor antibodies. This is an investigation that will take two weeks to be processed.  Imagine the patient deteriorates after the test result is back but before it is seen by the general practitioner. Imagine then that the patient presents to the emergency unit, do you have confidence that your current clinical systems will make that result available to the admitting team or, even if it is available, that the team will specifically look for that test result?</p>

<p>As such, we have a problem: we must trawl through the medical record in order to manually organise information and make it useful. We take a problem with thousands of dimensions - our raw results - and reduce them to some high-level concepts.</p>

<h4 id="step-two-summarise-and-synthesise">Step two: summarise and synthesise</h4>

<p>As such, to make sense of an excess of information in the medical record, most clinicians will attempt to create a summary to aid decision making. This is, in machine learning terms, a process of dimensionality reduction to identify the latent traits that are giving rise to the measurements that we can see. For example, one might write:</p>

<blockquote>
  <p>2-hours central chest pain</p>

  <p>Sweating</p>

  <p>Breathless</p>
</blockquote>

<blockquote>
  <p>ECG: ST elevation anterior leads</p>

  <p>Known: 
angina
acute coronary syndrome 1997 -&gt; stent in circumflex - angioplasty 1997
hypertension
smoker</p>
</blockquote>

<p>We conceive of the important information and apply that information to arrive at a clinical diagnosis.</p>

<p>Another example:</p>

<blockquote>
  <p>3-months of headache</p>

  <p>subacute encephalopathy</p>

  <p>deteriorating renal function</p>

  <p>chronic lymphocytic meningitis</p>

  <p>leptomeningeal enhancement on MRI brain</p>

  <p>bilateral facial nerve palsies</p>
</blockquote>

<p>For each, just as in Dr Larry Weed’s problem orientated medical records (POMR), we summarise at the most specific conceptual level that is defensible. If only a single lumbar puncture had been performed, we’d probably conceive of “lymphocytic meningitis” only, unless we could make an inference that the pathological process was chronic because of other factors, such as chronic headache and a long history of multiple cranial neuropathies. We might conclude chronicity based on repeated lumbar punctures or from synthesising the temporal pattern of clinical symptoms and signs over time. We populate our problem list based on the synthesis of multiple inferences from multiple sources.</p>

<p>For the first example, we have summarised the salient facts and have enough information to suggest “anterior myocardial infarction” as a most likely diagnosis. Indeed, we could use our anatomical knowledge to opine that the patient most likely has an occlusion in the left anterior descending coronary artery.</p>

<p>In the second example, we do not have sufficient information to arrive at a single most likely diagnosis, but we can arrive at a sensible differential diagnosis, a list of possible diagnoses such as “malignant meningitis”, “neurosarcoidosis” or “tuberculous meningitis”. The cause of the deteriorating renal function is unclear; we need more information to solve that problem.</p>

<p>We have defined the <em>essence</em> of the clinical scenario in order to help us make clinical decisions; we reduce the uncertainty about those decisions to a level which permits rational decision making. As I have <a href="/clinical-informatics/2017/06/20/machine-learning-2.html">previously quoted</a>:</p>

<blockquote>
  <ol>
    <li>We care about measurements because measurements inform uncertain decisions.</li>
    <li>For any decision or set of decisions, there are a large combination of things to measure and ways to measure them—but perfect certainty is rarely a realistic option.</li>
    <li>Therefore, we need a method to analyse options for reducing uncertainty about decisions.</li>
  </ol>
</blockquote>

<h3 id="step-three-iterate">Step three: iterate</h3>

<p>Generating a differential diagnostic list is important; it allows us to consider the <em>next steps</em> of the diagnostic pathway: what questions to ask previously omitted and what tests to arrange. Such a methodology re-affirms the nested hierarchical nature of diagnostic inference and the importance of understanding <em>a priori</em> probabilities and the <em>a posteriori</em> probability after our measurement, test or indeed any other method of obtaining more information.</p>

<p>A test can only be interpreted in a wider clinical context. Acetyl-choline receptor antibodies, tested in a patient with a pattern of symptoms (what the patient says) and signs (what we find on examination) suggestive of myasthenia gravis, are highly, but not perfectly sensitive to a diagnosis of myasthenia gravis. As I have <a href="/medical-records/2017/10/08/the-broken-medical-record.html">written before</a>:</p>

<blockquote>
  <p>Similarly, if we have imperfect measurements that are not 100% sensitive or 100% specific, then we have to ask, sensitive and specific to <em>what</em>? Realising this provides an important insight: when applied, say to clinical diagnosis, is that almost all of our measurements in medicine are as if we are looking at the truth out of the corner of our eye. We cannot see the <em>hidden truth</em> but a combination of our measurements are, together, governed by a few simpler variables or concepts that are actually the cause of the results of the measurements that we can measure. As a result, we hope that our measurements can be used to understand the <em>latent</em> variable(s) that are actually the hidden cause of those measurements.</p>
</blockquote>

<p>A latent variable is a variable that cannot be measured directly but we can infer its value from measurement of other observable measurements. In essence, we might conceptualise a latent trait as the real process to which our tests and assessments, combined together, provide an imperfect measurement.</p>

<h3 id="step-four--reduce-dimensionality-reduction">Step four : reduce (dimensionality reduction)</h3>

<p>As such, our highly complex, multi-dimensional medical record, combining symptoms, signs and investigation results, can potentially be simplified in terms of latent traits. Such a process is termed <em>dimensionality reduction</em> and humans perform this task implicitly to simplify both the process of decision making and the communication required around that decision-making between professionals and the patient.</p>

<p>For instance, a 72-year-old patient with a long history of smoking cigarettes and a prior myocardial infarction is likely to have atherosclerotic vascular disease. When that patient presents with new right sided arm and face weakness, we are likely to assume that their stroke has been caused by emboli from atherosclerosis rather than a dissection, even if both causes are possible. The same clinical event occurring in a 32-year-old patient during high-intensity exercise is likely to have had a stroke due to arterial dissection. Humans perform such inferences without necessarily being explicit in documenting their chain of inference; over years we build a set of heuristics, rough and ready rules of thumb, that mean we make reasonable conclusions.</p>

<h3 id="step-five--avoid-biases">Step five : avoid biases</h3>

<p>Unfortunately, humans are subject to a range of <a href="https://en.wikipedia.org/wiki/Cognitive_bias">cognitive biases</a> (see <a href="https://www.amazon.co.uk/Thinking-Fast-Slow-Daniel-Kahneman/dp/0141033576/ref=sr_1_2?ie=UTF8&amp;qid=1513438649&amp;sr=8-2&amp;keywords=cognitive+biases">“Thinking fast and slow” by Prof. Daniel Kahneman</a>) which results in a failure of our heuristics. For example, in confirmation bias, we may place greater emphasis on new information if it confirms a pre-existing belief or conclusion.</p>

<p><a title="By Jm3 (Own work) [CC BY-SA 4.0 (https://creativecommons.org/licenses/by-sa/4.0)], via Wikimedia Commons" href="https://commons.wikimedia.org/wiki/File%3AThe_Cognitive_Bias_Codex_-_180%2B_biases%2C_designed_by_John_Manoogian_III_(jm3).png"><img width="512" alt="The Cognitive Bias Codex - 180+ biases, designed by John Manoogian III (jm3)" src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/a4/The_Cognitive_Bias_Codex_-_180%2B_biases%2C_designed_by_John_Manoogian_III_%28jm3%29.png/512px-The_Cognitive_Bias_Codex_-_180%2B_biases%2C_designed_by_John_Manoogian_III_%28jm3%29.png" /></a></p>

<p>As such, the structure of our medical records, whether on paper or electronic, can inadvertently exaggerate our own biases. Conversely, properly organised and well structured records may help us to spot our biases and support their avoidance.</p>

<p>For instance, it is easy to fall into the trap of “anchoring”, in which the first piece of information acquired skews all subsequent inference as it is prioritised ahead of subsequent information.</p>

<h1 id="computer-assisted-care">Computer-assisted care</h1>

<p>Information technology can and should valuably support caring for patients. Unfortunately, healthcare has not adopted information technology as quickly or effectively as other industries. For others, information technology is now <em>the</em> way that those businesses operate. Healthcare could immediately benefit from better scheduling, planning and communication using off-the-shelf technologies widely used in other domains. In addition, we should be adopting other technologies as soon as possible : identity management, delegation and consent, evaluating <a href="https://en.wikipedia.org/wiki/Privacy-enhancing_technologies">privacy-enhancing technologies (PETs)</a> with focus on re-imagining our services around patients and enabling that transformation with technology.</p>

<p>However, in this essay, I want to focus on discussing computer-aided decision support and the value of applying machine learning in supporting the care of patients. With the right tools, we could do much to:</p>

<ul>
  <li>support presenting the right information at the right time</li>
  <li>suggest “measurements” (to obtain new information such as symptoms, signs or investigation results) that will add valuably to the decision-making process</li>
  <li>suggest differential diagnoses or treatment plans</li>
  <li>take steps to avoid common human cognitive biases</li>
</ul>

<h4 id="machine-learning-and-healthcare">Machine learning and healthcare</h4>

<p>The reason that machine learning has been used so effectively for image interpretation was the creation of large amounts of training data. Training data, for machine learning, needs to provide the input parameters and the labelled expected output. For an image, you might have a human label an image of a cat as a “cat” and then, together with hundreds of thousands of other images, a machine learning model can be trained and tested. There are now many publicly available training datasets <a href="https://en.wikipedia.org/wiki/List_of_datasets_for_machine_learning_research">available</a> from multiple sources.</p>

<p>So how can we achieve superhuman performance for clinical decision making?</p>

<p>We need to start thinking now about how to structure medical information so that it is possible to create large-scale publicly available training datasets and to understand how to transform clinical data from electronic patient records into the same format to permit testing and application in real-life clinical scenarios.</p>

<p>In short, we need a <em>“open computable medical record”</em>, the OCMR.</p>

<h4 id="open-computable-medical-record-ocmr">Open Computable Medical Record (OCMR)</h4>

<p>The OCMR is a simple intermediary data structure that can be used to be build datasets representing clinical knowledge. Initially for version 1, its focus is on diagnostic inference, mapping a combination of clinical findings to a most likely diagnosis. We use SNOMED-CT, an international terminology to represent the concepts in our clinical knowledge model; they are the primitives around which we build our knowledge.</p>

<p>For example, the simplest structure might be:</p>

<blockquote>
  <p>[acute kidney injury:<a href="https://termbrowser.nhs.uk/?perspective=full&amp;conceptId1=14669001" target="_blank">14669001</a>] + [naproxen:<a href="https://termbrowser.nhs.uk/?perspective=full&amp;conceptId1=11847009" target="_blank">11847009</a>] = [Analgesic nephropathy:<a href="https://termbrowser.nhs.uk/?perspective=full&amp;conceptId1=59400006" target="_blank">59400006</a>]</p>
</blockquote>

<p>Each link will take you to the NHS digital SNOMED CT browser.</p>

<p>Why should we use SNOMED CT?</p>

<p>SNOMED CT is a human-curated ontology tracking clinical and non-clinical concepts and the relationships between them. For instance, SNOMED CT will tell you that [acute kidney injury] is a type of [kidney disease:<a href="https://termbrowser.nhs.uk/?perspective=full&amp;conceptId1=90708001" target="_blank">90708001</a>].</p>

<p>My own SNOMED CT REST API provides this information in a computationally-useful manner : <a href="http://msdata.org.uk:8080/snomedct/concepts/14669001?include=recursiveParentConcepts" target="_blank">acute kidney injury</a> and <a href="http://msdata.org.uk:8080/snomedct/concepts/11847009?include=recursiveParentConcepts" target="_blank">naproxen</a>.</p>

<p>What this means is that an algorithm can potentially learn generic knowledge from specific examples.</p>

<p>It is conceivable that a model, knowing that naproxen can cause acute kidney injury, can also learn that the broad class of analgesics can cause acute kidney injury and so, when faced with a patient on ibuprofen, can suggest a correct judgement.</p>

<p>While SNOMED CT contains many types of relationships permitting us to infer that “acute kidney injury” is a type of kidney disease, it does not contain any data providing support for diagnostic inference. As such, we need to embed SNOMED CT concepts within a wider OCMR information model in order to express potential diagnostic inferential relationships.</p>

<p>It is not difficult to conceptualise the OCMR as a 2-dimensional image with each pixel representing a clinical finding:</p>

<p><img src="/images/ai/mi.png" alt="Conceptualising the OCMR as an image" /></p>

<p>Here, the source “image”, a set of factors representing “chest pain”, “shortness of breath” and “ECG ST elevation” are analysed and the most likely diagnosis given: “acute MI” (myocardial infarction).</p>

<p>It is not difficult to envisage making an OCMR more structured and more refined to provide additional contextual information relating to clinical context, baseline characteristics of the patient such as age and sex as well as the severity and nature of each clinical finding; we might categorise these as acute, sub-acute, chronic or episodic for example.</p>

<p>I have included an example OCMR record for a diagnosis of myocardial infarction. It is available as a JSON-formatted file including the clinical problems (and for each the higher-order more generic concepts) and the final diagnosis. The example file is available <a href="/images/ai/question.json">here</a>. I would envisage converting this to a flat vector for ease of processing.</p>

<h4 id="meta-learning-and-dimensionality-reduction">Meta-learning and dimensionality reduction</h4>

<p>The rationale behind defining an OCMR is to provide machine learning models with a set of deep underlying (latent) traits that act as as the core principles supporting diagnostic inference, just as used by humans.</p>

<p>We do not simply want a model that, given free text, outputs possible diagnoses, even though that might be an eventual result. Instead we want models that support building a more thorough foundation for clinical inference, that might even allow us, with the right right tools, to identify and understand inferential relationships and latent traits that we currently do not recognise.</p>

<p>For example, we might use the models to take new input from a patient’s medical record and support their direct care. In a patient with chest pain, a trained algorithm should be able to make diagnostic inferences and suggest information that is required such as “we need an ECG for this patient presenting with chest pain”. The model has learnt the relationship between chest pain and an ECG and even troponin results; with the right integration of decision support into our electronic health records, the algorithm could help us by highlighting the important information rather than simply showing all results in chronological order.</p>

<h4 id="sources-of-training-data">Sources of training data</h4>

<p><img src="/images/ai/model-generation.png" alt="Model Generation" /></p>

<p>How can we build a corpus of medical knowledge containing diagnostic inferential relationships as well as codifying choice of next diagnostic steps, interventions and treatments?</p>

<p>I would argue that we need to consider multiple sources of medical knowledge and make them usable by converting them into the OCMR format; the OCMR data model is essentially an intermediary data structure for medical information in the same way as images can be represented as a bitmap image file and readily analysed.</p>

<p>The potential sources of information are:</p>

<ul>
  <li>core epidemiological data - providing information on incidence and prevalence for a range of disease</li>
  <li>free-text monographs about diseases, such as those from rare disease databases</li>
  <li>free-text monographs about drugs</li>
  <li>textbooks</li>
  <li>exam questions</li>
</ul>

<h4 id="epidemiological-data">Epidemiological data</h4>

<p>Epidemiological data relating to the incidence and prevalence of different diseases are usually well-described in the literature. Such data can provide important <em>a priori</em> probabilities of different diagnoses in different clinical contexts.</p>

<p>Such data could be supplemented by real-life data taken from known patients - for example, the GP research database (<a href="https://www.herc.ox.ac.uk/downloads/health_datasets/browse-data-sets/general-practice-research-database-gprd">GPRD</a>) or hospital episode statistics (HES) for hospital admission and discharges. Such data will be recorded either as Read codes or ICD-10, but these are readily convertible to SNOMED-CT and could contribute to an publicly-accessible OCMR.</p>

<h4 id="free-text-monographs-literature-and-textbooks">Free-text monographs, literature and textbooks</h4>

<p>For many rare diseases, there are excellent semi-structured and authoritative descriptions of clinical features and types of presentation. It is not difficult to see how natural language processing could be used to extract the important phenotypic features of a range of rare diseases in order to support the identification of patients usually only possible by specialists.</p>

<p>For example, the OMIM (Online Mendelian Inheritance in Man) resource on <a href="http://omim.org/entry/125370?search=drpla&amp;highlight=drpla">DRPLA</a>, a rare neurodegenerative disorder is detailed and includes the important symptoms and signs. OMIM make their dataset available on the Internet in both human-readable and machine-readable formats.</p>

<p>Similarly, adverse-effects of different pharmaceutical compounds could be imputed from monographs in standard pharmacopeiae and so potentially highlight to non-specialists where a drug might be contributing to a patient’s problems.</p>

<h4 id="exam-questions">Exam questions</h4>

<p>We have been building up large numbers of semi-structured questions in medical schools across the UK and have a collaborative national question bank run by the Medical Schools Council Assessment Alliance (MSC-AA). We also have similar banks of questions for the postgraduate examinations managed by our Royal Colleges.</p>

<p>Could these question banks be useful as a corpus of knowledge for machine learning?</p>

<p>In my prior role in the School of Medicine at Cardiff University, we used to encourage students to use assessments to drive their learning by sitting as many exam questions as possible. As part of that work, we implemented a “progress test” in which students sat 3-4 exams per year with detailed feedback to identify areas for which they needed more help. We now have thousands of questions in our bank alone.</p>

<p>Can questions drive learning for machines?</p>

<p>For example, this is from the <a href="http://www.usmle.org/pdfs/step-
1/2015samples_step1.pdf">USMLE</a></p>

<blockquote>
  <p>A 52-year- old woman comes to the physician because of a 1-month history of headache, weakness, tingling of her extremities, muscle cramping, and fatigue. Her blood pressure is 170/110 mm Hg. Physical examination shows no other abnormalities. Laboratory studies show a decreased serum potassium concentration, metabolic alkalosis, and decreased plasma renin activity; serum sodium concentration is within the reference range. Urine catecholamine concentrations are within the reference range.</p>

  <p>Which of the following is the most likely diagnosis?
A. Adrenal adenoma
B. Focal segmental glomerulosclerosis
C. Hypothalamic tumor
D. Juxtaglomerular cell tumor
E. Renal artery stenosis</p>

  <p>Answer : A</p>
</blockquote>

<p>The important characteristics of exam questions are:</p>

<ul>
  <li>they are a succinct distillation of important clinical concepts with a labelled answer; they usually do not contain extraneous information</li>
  <li>they contain sufficient information information to identify a single best answer</li>
  <li>there is a single best answer, although the distractors should be reasonable to someone who doesn’t know the answer</li>
  <li>they are semi-structured - with a stem (the clinical scenario), a lead-in (the question), the possible answers and the correct keyed answer.</li>
  <li>medical schools and colleges <em>should</em> write questions on the most important and common clinical scenarios; they should represent a representative corpus of medical knowledge</li>
</ul>

<p>The potential problems with exam questions are:</p>

<ul>
  <li>is it possible to obtain sufficient questions in order to contribute to the learning of a model?</li>
  <li>is it possible to use natural language processing to extract the terms from the lead-in and to map the possible answers into a structured format suitable for our OCMR?</li>
</ul>

<p>If these issues can be overcome, then the SNOMED-CT ontology tells us “headache” is a type of “pain” in the “head” so that any learning system can learn on the broad generic concepts and not only the concept used at the time.</p>

<p>For example, we can map each entity within that free text to a SNOMED-CT concept. Here I use my relatively rudimentary free-text mapping service:</p>

<p><a href="http://msdata.org.uk:8080/snomedct/search?s=plasma%20renin%20activity">Plasma renin activity</a>
maps to to <a href="http://browser.ihtsdotools.org/?perspective=full&amp;conceptId1=8883510000001
02&amp;edition=uk-edition&amp;release=v20170401&amp;server=https://prod- browser-
exten.ihtsdotools.org/api/snomed&amp;langRefset=900000000000508004">8883510000001</a>
or in JSON:
<a href="http://msdata.org.uk:8080/snomedct/concepts/888351000000102/recursiveP
arents">http://msdata.org.uk:8080/snomedct/concepts/888351000000102/recursiveP
arents</a>
which tells us we’re measuring “renin”…</p>

<p>Similarly, we match on <a href="http://msdata.org.uk:8080/snomedct/search?s=headache">“headache”</a> and understand that this is a type of <a href="http://msdata.org.uk:8080/snomedct/concepts/25064002/recursiveParents">“pain”…. in the “head”…</a></p>

<p>And the right answer is (A)… Adrenal adenoma, so, we can look that up too…</p>

<p><a href="http://msdata.org.uk:8080/snomedct/search?s=adrenal adenoma">http://msdata.org.uk:8080/snomedct/search?s=adrenal adenoma</a>
<a href="http://msdata.org.uk:8080/snomedct/concepts/255036008/recursiveParents">http://msdata.org.uk:8080/snomedct/concepts/255036008/recursiveParents</a></p>

<p>and then understand that this is a type of benign neoplasm of the adrenal gland.</p>

<p>As such, for any single question, it might be possible to <em>impute</em> a range of different data based on more generic high-level broad concepts. Likewise, if there is insufficient training data for creating a high-dimensional map at a high level of granularity, we can use techniques to reduce dimensionality and create a low-dimensional model. Indeed, it is likely that identifying the core principles and trends from high-dimensional datasets will permit better predictive models to be created.</p>

<p>For example, this question not only links a diagnosis of adrenal adenoma with fatigue, hypertension, a low serum potassium concentration and metabolic alkalosis, but it is conceivable that the training data could be used to identify patients with similar symptoms and signs and suggest that renal profile should be checked.</p>

<p>Likewise, the resultant model may be able to generate additional questions for subsequent training, by humans and algorithms alike.</p>

<h1 id="conclusions">Conclusions</h1>

<p>Information technology has the potential to revolutionise healthcare and augment our clinical decisions by helping us understand patient information in ways to directly improve care. Clinical decision making is complex and we need to consider ways to both understand and support our decision-making. We don’t want to abdicate responsibility for 
decision-making; indeed, decision-making is a partnership between professional and patient. However, for too long, human professionals have had to spend time gathering the right information instead of focussing on where our skills are needed most : high-level thinking and communication. We should be working towards building tools that support us in the care of our patients.</p>

<p>I have started work on the first version of the OCMR and I am going to try to build some publicly-available datasets to kickstart the application of machine learning in healthcare. As an experiment, I have built a fake dataset generator (<a href="https://bitbucket.org/wardle/go-snomed">go-snomed</a>) which builds a fake OCMR JSON structure to try to understand the pitfalls of this approach.</p>

<p>I would love to hear from you if you would like to be involved or indeed, help support this work.</p>

<p><em>Mark</em></p>

  </div>

  
</article>
        
      </div>
    </main>
    
    
    
    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">Health informatics and information technology</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>
            
              Health informatics and information technology
            
            </li>
            
            <li><a href="mailto:mark@wardle.org">mark@wardle.org</a></li>
            
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/wardle"><span class="icon icon--github"><svg viewBox="0 0 16 16" width="16px" height="16px"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">wardle</span></a>

          </li>
          

          
          <li>
            <a href="https://twitter.com/mwardle"><span class="icon icon--twitter"><svg viewBox="0 0 16 16" width="16px" height="16px"><path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/></svg>
</span><span class="username">mwardle</span></a>

          </li>
          
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>by Dr Mark Wardle, Consultant Neurologist, clinical informatics and software developer. Founder, Eldrix Ltd.
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
